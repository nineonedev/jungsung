(()=>{function f(){console.log("initMainHero()");let e=document.querySelector("#main-hero-swiper");if(!e)return;function i(r){return String(r).padStart(2,"0")}let o=e.querySelector(".no-main-hero__fraction"),s=o?o.querySelector('[data-role="current"]'):null,c=o?o.querySelector('[data-role="total"]'):null,d=e.querySelector(".swiper-wrapper"),a=d?d.querySelectorAll(":scope > .swiper-slide").length:0;if(c&&(c.textContent=i(a||0)),a<=1){let r=e.querySelector(".no-main-hero__control");r&&(r.style.display="none")}function l(r){if(!o||!s||!c||a===0)return;let u=typeof r.realIndex=="number"?r.realIndex+1:r.activeIndex%a+1;s.textContent=i(u),c.textContent=i(a)}let t=new Swiper(e,{loop:a>1,speed:1200,autoplay:a>1?{delay:2e3,disableOnInteraction:!0}:!1,pagination:{type:"bullets",el:e.querySelector(".no-main-hero__pagination"),clickable:!0},navigation:{nextEl:e.querySelector(".no-main-hero__button--next"),prevEl:e.querySelector(".no-main-hero__button--prev")},on:{init(r){l(r)},slideChange(r){l(r)}}})}function m(){console.log("initMainPofol()");let e=document.querySelector("#main-pofol-swiper");if(!e)return;let i=new Swiper(e,{slidesPerView:4,spaceBetween:24,navigation:{nextEl:".no-main-pofol__button--next",prevEl:".no-main-pofol__button--prev"},breakpoints:{320:{slidesPerView:1.5},544:{slidesPerView:2.5},768:{slidesPerView:3.5},1024:{slidesPerView:4}}})}function h(){console.log("initMainResource()");let e=document.querySelector("#main-resource-swiper");if(!e)return;let i=new Swiper(e,{slidesPerView:4,spaceBetween:24,breakpoints:{320:{slidesPerView:1.5},544:{slidesPerView:2.5},768:{slidesPerView:1.5},1024:{slidesPerView:2.5}}})}function g(){console.log("initSubNav()");let e=document.querySelector("#sub-nav-swiper");if(!e)return;let i=new Swiper(e,{slidesPerView:"auto",navigation:{nextEl:".no-sub-nav__button--next",prevEl:".no-sub-nav__button--prev"},on:{init(){let o=this.slides.findIndex(s=>s.classList.contains("--active"));o!==-1&&this.slideTo(o)}}})}function w(){console.log("initHeader()");let n=document.getElementById("main-header");if(!n)return;let e=n.querySelector(".no-header__nav");if(!e)return;let i=gsap.timeline({paused:!0});i.to(n,{height:()=>e.offsetHeight+"px",ease:"power3.inOut"});let o=()=>{n.setAttribute("aria-expanded",!0),i.play()},s=()=>{n.removeAttribute("aria-expanded"),i.reverse()};e.addEventListener("mouseenter",o),n.addEventListener("mouseleave",s),window.addEventListener("resize",u=>{window.innerWidth<=1024&&(n.removeAttribute("style"),n.removeAttribute("aria-expanded"))});let c=document.getElementById("main-drawer");if(!c)return;let d=n.querySelector(".no-header__toggle"),a=c.querySelector(".no-drawer__toggle"),l=gsap.timeline({paused:!0});l.to(c,{x:"0%",opacity:1,ease:"power3.inOut"});let t=()=>{document.body.classList.add("--hidden"),l.play()},r=()=>{document.body.classList.remove("--hidden"),l.reverse()};d.addEventListener("click",t),a.addEventListener("click",r)}function v(){let n=document.querySelector(".no-floating-container"),e=document.querySelector(".no-floating-menu");if(!n||!e)return;let i=100,o=i;gsap.registerPlugin(ScrollTrigger),ScrollTrigger.create({trigger:n,start:`top+=${i} top`,end:"bottom bottom",pin:e,pinSpacing:!1,anticipatePin:1,invalidateOnRefresh:!0});let s=Array.from(e.querySelectorAll(".no-floating-menu__link")),c=s.map(t=>{try{let u=new URL(t.href,location.origin).hash?.replace("#","")||"";if(!u)return null;let p=document.getElementById(u);return p?{link:t,section:p,hash:u}:null}catch{return null}}).filter(Boolean),d=()=>{s.forEach(t=>t.classList.remove("--active"))},a=t=>{t&&(d(),t.classList.add("--active"))};c.forEach(({link:t,section:r})=>{ScrollTrigger.create({trigger:r,start:`top+=${o} center`,end:"bottom center",onEnter:()=>a(t),onEnterBack:()=>a(t),invalidateOnRefresh:!0})}),requestAnimationFrame(()=>ScrollTrigger.refresh());let l=t=>{let r=t.getBoundingClientRect().top+window.pageYOffset-o;window.scrollTo({top:r,behavior:"smooth"})};s.forEach(t=>{t.addEventListener("click",r=>{let u=new URL(t.href,location.origin).hash.replace("#",""),p=document.getElementById(u);p&&(r.preventDefault(),l(p),a(t),history.replaceState(null,"",`#${u}`))})}),window.addEventListener("load",()=>ScrollTrigger.refresh()),setTimeout(()=>{let t=location.hash?.replace("#","");if(t){let r=document.getElementById(t);if(r){l(r);let u=c.find(p=>p.hash===t);u&&a(u.link)}}},300)}async function E(){console.log("initCaptcha()");let n=document.getElementById("captcha-img"),e=document.getElementById("captcha-refresh"),i=document.getElementById("captcha-listen"),o=document.getElementById("captcha-audio");if(!n||!e||!i||!o)return;let s=i.querySelector("i"),c=!1;function d(){try{o.pause()}catch{}o.removeAttribute("src"),o.load(),c=!1,s&&(s.classList.remove("fa-volume-slash"),s.classList.add("fa-volume"))}function a(){d(),n.src="/inc/lib/captcha.image.php?_="+Date.now()}async function l(){if(c){d();return}try{i.disabled=!0;let t="/inc/lib/captcha.audio.php?_="+Date.now();d(),o.src=t,await o.play(),c=!0,s&&(s.classList.remove("fa-volume"),s.classList.add("fa-volume-slash")),o.onended=()=>{d()}}catch(t){console.error(t),alert("\uC624\uB514\uC624\uB97C \uC7AC\uC0DD\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),d()}finally{i.disabled=!1}}e.addEventListener("click",a),i.addEventListener("click",l),e.addEventListener("keydown",t=>{(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),a())})}function y(){let n=document.getElementById("gototop"),e=n?.querySelector(".no-gototop__btn");if(!n||!e)return;e.setAttribute("aria-label","\uB9E8 \uC704\uB85C \uC774\uB3D9"),n.setAttribute("aria-hidden","true");let i=200,o=!1;function s(){window.scrollY>i?(n.classList.add("is-visible"),n.setAttribute("aria-hidden","false")):(n.classList.remove("is-visible"),n.setAttribute("aria-hidden","true"))}function c(){o||(o=!0,requestAnimationFrame(()=>{s(),o=!1}))}function d(){let l=window.matchMedia("(prefers-reduced-motion: reduce)").matches;window.scrollTo({top:0,behavior:l?"auto":"smooth"})}function a(l){(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),d())}s(),window.addEventListener("scroll",c,{passive:!0}),window.addEventListener("resize",c,{passive:!0}),e.addEventListener("click",d),e.addEventListener("keydown",a)}function S(){console.log("app()"),document.addEventListener("DOMContentLoaded",()=>{f(),m(),h(),g(),w(),v(),E(),y(),AOS.init()})}S();})();
//# sourceMappingURL=/resource/dist/app.js.map
