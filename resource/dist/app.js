(()=>{function f(){console.log("initMainHero()");let t=document.querySelector("#main-hero-swiper");if(!t)return;let i=new Swiper(t,{loop:!0,speed:1200,autoplay:{delay:2e3,disableOnInteraction:!0},pagination:{type:"bullets",el:".no-main-hero__pagination",clickable:!0},navigation:{nextEl:".no-main-hero__button--next",prevEl:".no-main-hero__button--prev"}})}function m(){console.log("initMainPofol()");let t=document.querySelector("#main-pofol-swiper");if(!t)return;let i=new Swiper(t,{slidesPerView:4,spaceBetween:24,navigation:{nextEl:".no-main-pofol__button--next",prevEl:".no-main-pofol__button--prev"},breakpoints:{320:{slidesPerView:1.5},544:{slidesPerView:2.5},768:{slidesPerView:3.5},1024:{slidesPerView:4}}})}function h(){console.log("initMainResource()");let t=document.querySelector("#main-resource-swiper");if(!t)return;let i=new Swiper(t,{slidesPerView:4,spaceBetween:24,breakpoints:{320:{slidesPerView:1.5},544:{slidesPerView:2.5},768:{slidesPerView:1.5},1024:{slidesPerView:2.5}}})}function g(){console.log("initSubNav()");let t=document.querySelector("#sub-nav-swiper");if(!t)return;let i=new Swiper(t,{slidesPerView:"auto",navigation:{nextEl:".no-sub-nav__button--next",prevEl:".no-sub-nav__button--prev"},on:{init(){let o=this.slides.findIndex(r=>r.classList.contains("--active"));o!==-1&&this.slideTo(o)}}})}function w(){console.log("initHeader()");let n=document.getElementById("main-header");if(!n)return;let t=n.querySelector(".no-header__nav");if(!t)return;let i=gsap.timeline({paused:!0});i.to(n,{height:()=>t.offsetHeight+"px",ease:"power3.inOut"});let o=()=>{n.setAttribute("aria-expanded",!0),i.play()},r=()=>{n.removeAttribute("aria-expanded"),i.reverse()};t.addEventListener("mouseenter",o),n.addEventListener("mouseleave",r),window.addEventListener("resize",u=>{window.innerWidth<=1024&&(n.removeAttribute("style"),n.removeAttribute("aria-expanded"))});let a=document.getElementById("main-drawer");if(!a)return;let c=n.querySelector(".no-header__toggle"),d=a.querySelector(".no-drawer__toggle"),s=gsap.timeline({paused:!0});s.to(a,{x:"0%",opacity:1,ease:"power3.inOut"});let e=()=>{document.body.classList.add("--hidden"),s.play()},l=()=>{document.body.classList.remove("--hidden"),s.reverse()};c.addEventListener("click",e),d.addEventListener("click",l)}function v(){let n=document.querySelector(".no-floating-container"),t=document.querySelector(".no-floating-menu");if(!n||!t)return;let i=100,o=i;gsap.registerPlugin(ScrollTrigger),ScrollTrigger.create({trigger:n,start:`top+=${i} top`,end:"bottom bottom",pin:t,pinSpacing:!1,anticipatePin:1,invalidateOnRefresh:!0});let r=Array.from(t.querySelectorAll(".no-floating-menu__link")),a=r.map(e=>{try{let u=new URL(e.href,location.origin).hash?.replace("#","")||"";if(!u)return null;let p=document.getElementById(u);return p?{link:e,section:p,hash:u}:null}catch{return null}}).filter(Boolean),c=()=>{r.forEach(e=>e.classList.remove("--active"))},d=e=>{e&&(c(),e.classList.add("--active"))};a.forEach(({link:e,section:l})=>{ScrollTrigger.create({trigger:l,start:`top+=${o} center`,end:"bottom center",onEnter:()=>d(e),onEnterBack:()=>d(e),invalidateOnRefresh:!0})}),requestAnimationFrame(()=>ScrollTrigger.refresh());let s=e=>{let l=e.getBoundingClientRect().top+window.pageYOffset-o;window.scrollTo({top:l,behavior:"smooth"})};r.forEach(e=>{e.addEventListener("click",l=>{let u=new URL(e.href,location.origin).hash.replace("#",""),p=document.getElementById(u);p&&(l.preventDefault(),s(p),d(e),history.replaceState(null,"",`#${u}`))})}),window.addEventListener("load",()=>ScrollTrigger.refresh()),setTimeout(()=>{let e=location.hash?.replace("#","");if(e){let l=document.getElementById(e);if(l){s(l);let u=a.find(p=>p.hash===e);u&&d(u.link)}}},300)}async function E(){console.log("initCaptcha()");let n=document.getElementById("captcha-img"),t=document.getElementById("captcha-refresh"),i=document.getElementById("captcha-listen"),o=document.getElementById("captcha-audio");if(!n||!t||!i||!o)return;let r=i.querySelector("i"),a=!1;function c(){try{o.pause()}catch{}o.removeAttribute("src"),o.load(),a=!1,r&&(r.classList.remove("fa-volume-slash"),r.classList.add("fa-volume"))}function d(){c(),n.src="/inc/lib/captcha.image.php?_="+Date.now()}async function s(){if(a){c();return}try{i.disabled=!0;let e="/inc/lib/captcha.audio.php?_="+Date.now();c(),o.src=e,await o.play(),a=!0,r&&(r.classList.remove("fa-volume"),r.classList.add("fa-volume-slash")),o.onended=()=>{c()}}catch(e){console.error(e),alert("\uC624\uB514\uC624\uB97C \uC7AC\uC0DD\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."),c()}finally{i.disabled=!1}}t.addEventListener("click",d),i.addEventListener("click",s),t.addEventListener("keydown",e=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),d())})}function y(){let n=document.getElementById("gototop"),t=n?.querySelector(".no-gototop__btn");if(!n||!t)return;t.setAttribute("aria-label","\uB9E8 \uC704\uB85C \uC774\uB3D9"),n.setAttribute("aria-hidden","true");let i=200,o=!1;function r(){window.scrollY>i?(n.classList.add("is-visible"),n.setAttribute("aria-hidden","false")):(n.classList.remove("is-visible"),n.setAttribute("aria-hidden","true"))}function a(){o||(o=!0,requestAnimationFrame(()=>{r(),o=!1}))}function c(){let s=window.matchMedia("(prefers-reduced-motion: reduce)").matches;window.scrollTo({top:0,behavior:s?"auto":"smooth"})}function d(s){(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),c())}r(),window.addEventListener("scroll",a,{passive:!0}),window.addEventListener("resize",a,{passive:!0}),t.addEventListener("click",c),t.addEventListener("keydown",d)}function S(){console.log("app()"),document.addEventListener("DOMContentLoaded",()=>{f(),m(),h(),g(),w(),v(),E(),y(),AOS.init()})}S();})();
//# sourceMappingURL=/resource/dist/app.js.map
